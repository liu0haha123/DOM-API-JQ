{"version":3,"sources":["jquery.js"],"names":["window","$","jQuery","selectorOrArrayOrTemplate","elements","createElement","document","querySelectorAll","Array","string","container","innerHTML","trim","content","firstChild","api","Object","create","prototype","assign","oldApi","fn","constructor","jquery","each","i","length","call","get","index","appendTo","node","Element","ele","appendChild","append","children","HTMLCollection","find","selector","array","elements2","from","concat","parent","indexOf","parentNode","push","print","console","log","addClass","className","element","classList","add","end"],"mappings":"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","file":"jquery.7a6e0748.js","sourceRoot":"..\\src","sourcesContent":["//利用了构造函数的思想，不是常规意义中JS的构造函数，设计模式\r\n//JQ对象指的是其构造出的对象\r\nwindow.$ = window.jQuery = function (selectorOrArrayOrTemplate) {\r\n    let elements\r\n    if (typeof selectorOrArrayOrTemplate === \"string\") {\r\n        if (selectorOrArrayOrTemplate[0] === \"<\") {\r\n            // 如果是标签形式就创建div\r\n            elements = [createElement(selectorOrArrayOrTemplate)]\r\n        }\r\n        else {\r\n            elements = document.querySelectorAll(selectorOrArrayOrTemplate);\r\n        }    \r\n    }\r\n\r\n    else if (selectorOrArrayOrTemplate instanceof Array) {\r\n        elements = selectorOrArrayOrTemplate;\r\n    }\r\n\r\n    function createElement (string) {\r\n        const container = document.createElement(\"template\")\r\n        container.innerHTML = string.trim()\r\n        return container.content.firstChild\r\n    }\r\n    // api 可以操作elements\r\n    const api = Object.create(jQuery.prototype) // 创建一个对象，这个对象的 __proto__ 为括号里面的东西,保证API中的函数储存在JQ对象的原型上，节约内存\r\n    // 赋值操作\r\n    Object.assign(api, {\r\n        elements: elements,\r\n        oldApi: selectorOrArrayOrTemplate.oldApi\r\n    })\r\n\r\n    return api\r\n}\r\n\r\njQuery.fn = jQuery.prototype = {\r\n    // 保证构造函数\r\n    constructor: jQuery,\r\n    jquery: true,\r\n    \r\n    each (fn) {\r\n        // 遍历元素，调用回调函数\r\n        for (let i = 0; i < this.elements.length; i++) {\r\n            fn.call(null, this.elements[i], i);\r\n        }\r\n        return this;\r\n    },\r\n\r\n    get (index) {\r\n        // 按下标获取元素\r\n        return this.elements[index]\r\n    },\r\n    appendTo (node) {\r\n        // 如果是节点就直接插入，如果是JQ对象就先获取第一个元素作为节点再插入\r\n        if (node instanceof Element) {\r\n            this.each((ele)=>{node.appendChild(ele)})\r\n        } else if (node.jquery === true) {\r\n            this.each((ele) => { node.get(0).appendChild(ele) })\r\n        }\r\n    },\r\n    append (children) {\r\n        // 如果操作的HTML元素就直接找到节点插入\r\n        if (children instanceof Element) {\r\n            this.get(0).appendChild(children)\r\n        } else if (children instanceof HTMLCollection) {\r\n            // 如果插入的是HTML伪数组就逐个插入\r\n            for (let i = 0; i < children, length; i++){\r\n                this.get(0).appendChild(children[i])\r\n            }\r\n        } else if (children.jquery === true) {\r\n            children.each(node => this.get(0).appendChild(node))\r\n        }\r\n    },\r\n    find (selector) {\r\n        let array = [];\r\n        for (let i = 0; i < this.elements.length; i++) {\r\n            const elements2 = Array.from(this.elements[i].querySelectorAll(selector));\r\n            array = array.concat(elements2);\r\n        }\r\n        array.oldApi = this; // this 就是 旧 api\r\n        return jQuery(array);\r\n    },\r\n    parent () {\r\n        const array = [];\r\n        this.each(node => {\r\n            // 如果父节点不在数组中就插入，用JQ对象重新包装保证链式操作\r\n            if (array.indexOf(node.parentNode) === -1) {\r\n                array.push(node.parentNode);\r\n            }\r\n        });\r\n        return jQuery(array);\r\n    },\r\n    children () {\r\n        const array = [];\r\n        this.each(node => {\r\n            if (array.indexOf(node.parentNode) === -1) {\r\n                array.push(...node.children);\r\n            }\r\n        });\r\n        return jQuery(array);\r\n    },\r\n    print () {\r\n        console.log(this.elements);\r\n    },\r\n    // 闭包：函数访问外部的变量\r\n    addClass (className) {\r\n        for (let i = 0; i < this.elements.length; i++) {\r\n            const element = this.elements[i];\r\n            element.classList.add(className);\r\n        }\r\n        return this;\r\n    },\r\n    end () {\r\n        return this.oldApi; // this 就是新 api\r\n    }\r\n}\r\n"]}